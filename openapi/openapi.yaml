openapi: 3.1.0
info:
  title: Admin BFF Service
  version: 1.0.0
tags:
  - name: Announcements
  - name: Faculties
  - name: Subjects
paths:
  /v1/announcements:
    get:
      operationId: AnnouncementsV1_list
      parameters: []
      responses:
        "200":
          description: おしらせのリスト
          content:
            application/json:
              schema:
                type: object
                properties:
                  announcements:
                    type: array
                    items:
                      $ref: "#/components/schemas/AnnouncementService.Announcement"
                required:
                  - announcements
      tags:
        - Announcements
    post:
      operationId: AnnouncementsV1_create
      description: おしらせを作成する
      parameters: []
      responses:
        "201":
          description: 作成されたおしらせ
          content:
            application/json:
              schema:
                type: object
                properties:
                  announcement:
                    $ref: "#/components/schemas/AnnouncementService.Announcement"
                required:
                  - announcement
      tags:
        - Announcements
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AnnouncementService.AnnouncementRequest"
        description: 作成するおしらせの情報
  /v1/announcements/{id}:
    get:
      operationId: AnnouncementsV1_detail
      description: おしらせを詳細取得する
      parameters:
        - name: id
          in: path
          required: true
          description: おしらせID
          schema:
            type: string
      responses:
        "200":
          description: おしらせの詳細
          content:
            application/json:
              schema:
                type: object
                properties:
                  announcement:
                    $ref: "#/components/schemas/AnnouncementService.Announcement"
                required:
                  - announcement
      tags:
        - Announcements
    put:
      operationId: AnnouncementsV1_update
      description: おしらせを更新する
      parameters:
        - name: id
          in: path
          required: true
          description: おしらせID
          schema:
            type: string
      responses:
        "200":
          description: 更新されたおしらせ
          content:
            application/json:
              schema:
                type: object
                properties:
                  announcement:
                    $ref: "#/components/schemas/AnnouncementService.Announcement"
                required:
                  - announcement
      tags:
        - Announcements
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AnnouncementService.AnnouncementRequest"
        description: 更新するおしらせの情報
    delete:
      operationId: AnnouncementsV1_delete
      description: おしらせを削除する
      parameters:
        - name: id
          in: path
          required: true
          description: おしらせID
          schema:
            type: string
      responses:
        "204":
          description: There is no content to send for this request, but the headers may be useful.
      tags:
        - Announcements
  /v1/faculties:
    get:
      operationId: FacultiesV1_list
      description: 教員一覧を取得する
      parameters: []
      responses:
        "200":
          description: 教員のリスト
          content:
            application/json:
              schema:
                type: object
                properties:
                  faculties:
                    type: array
                    items:
                      $ref: "#/components/schemas/DottoFoundationV1.Faculty"
                required:
                  - faculties
      tags:
        - Faculties
    post:
      operationId: FacultiesV1_create
      description: 教員を作成する
      parameters: []
      responses:
        "201":
          description: 作成された教員
          content:
            application/json:
              schema:
                type: object
                properties:
                  faculty:
                    $ref: "#/components/schemas/DottoFoundationV1.Faculty"
                required:
                  - faculty
      tags:
        - Faculties
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DottoFoundationV1.FacultyRequest"
        description: 作成する教員の情報
  /v1/faculties/{id}:
    get:
      operationId: FacultiesV1_detail
      description: 教員を詳細取得する
      parameters:
        - name: id
          in: path
          required: true
          description: 教員ID
          schema:
            type: string
      responses:
        "200":
          description: 教員の詳細
          content:
            application/json:
              schema:
                type: object
                properties:
                  faculty:
                    $ref: "#/components/schemas/DottoFoundationV1.Faculty"
                required:
                  - faculty
      tags:
        - Faculties
    put:
      operationId: FacultiesV1_update
      description: 教員を更新する
      parameters:
        - name: id
          in: path
          required: true
          description: 教員ID
          schema:
            type: string
      responses:
        "200":
          description: 更新された教員
          content:
            application/json:
              schema:
                type: object
                properties:
                  faculty:
                    $ref: "#/components/schemas/DottoFoundationV1.Faculty"
                required:
                  - faculty
      tags:
        - Faculties
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DottoFoundationV1.FacultyRequest"
        description: 更新する教員の情報
    delete:
      operationId: FacultiesV1_delete
      description: 教員を削除する
      parameters:
        - name: id
          in: path
          required: true
          description: 教員ID
          schema:
            type: string
      responses:
        "204":
          description: There is no content to send for this request, but the headers may be useful.
      tags:
        - Faculties
  /v1/subjects:
    get:
      operationId: SubjectsV1_list
      description: 科目一覧を取得する
      parameters: []
      responses:
        "200":
          description: 科目のリスト
          content:
            application/json:
              schema:
                type: object
                properties:
                  subjects:
                    type: array
                    items:
                      $ref: "#/components/schemas/SubjectService.SubjectSummary"
                required:
                  - subjects
      tags:
        - Subjects
    post:
      operationId: SubjectsV1_create
      description: 科目を作成する
      parameters: []
      responses:
        "201":
          description: 作成された科目
          content:
            application/json:
              schema:
                type: object
                properties:
                  subject:
                    $ref: "#/components/schemas/SubjectService.Subject"
                required:
                  - subject
      tags:
        - Subjects
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SubjectService.SubjectRequest"
        description: 作成する科目の情報
  /v1/subjects/{id}:
    get:
      operationId: SubjectsV1_detail
      description: 科目を詳細取得する
      parameters:
        - name: id
          in: path
          required: true
          description: 科目ID
          schema:
            type: string
      responses:
        "200":
          description: 科目の詳細
          content:
            application/json:
              schema:
                type: object
                properties:
                  subject:
                    $ref: "#/components/schemas/SubjectService.Subject"
                required:
                  - subject
      tags:
        - Subjects
    put:
      operationId: SubjectsV1_update
      description: 科目を更新する
      parameters:
        - name: id
          in: path
          required: true
          description: 科目ID
          schema:
            type: string
      responses:
        "200":
          description: 更新された科目
          content:
            application/json:
              schema:
                type: object
                properties:
                  subject:
                    $ref: "#/components/schemas/SubjectService.Subject"
                required:
                  - subject
      tags:
        - Subjects
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SubjectService.SubjectRequest"
        description: 更新する科目の情報
    delete:
      operationId: SubjectsV1_delete
      description: 科目を削除する
      parameters:
        - name: id
          in: path
          required: true
          description: 科目ID
          schema:
            type: string
      responses:
        "204":
          description: There is no content to send for this request, but the headers may be useful.
      tags:
        - Subjects
components:
  schemas:
    AnnouncementService.Announcement:
      type: object
      required:
        - id
        - title
        - availableFrom
        - url
      properties:
        id:
          type: string
        title:
          type: string
        availableFrom:
          type: string
          format: date-time
        availableUntil:
          type: string
          format: date-time
        url:
          type: string
          format: uri
    AnnouncementService.AnnouncementRequest:
      type: object
      required:
        - title
        - availableFrom
        - url
      properties:
        title:
          type: string
        availableFrom:
          type: string
          format: date-time
        availableUntil:
          type: string
          format: date-time
        url:
          type: string
          format: uri
    DottoFoundationV1.Class:
      type: string
      enum:
        - A
        - B
        - C
        - D
        - E
        - F
        - G
        - H
        - I
        - J
        - K
        - L
      description: クラス
    DottoFoundationV1.Course:
      type: string
      enum:
        - InformationSystem
        - InformationDesign
        - AdvancedICT
        - ComplexSystem
        - IntelligentSystem
      description: コース
    DottoFoundationV1.CourseSemester:
      type: string
      enum:
        - AllYear
        - H1
        - H2
        - Q1
        - Q2
        - Q3
        - Q4
        - SummerIntensive
        - WinterIntensive
      description: 開講時期
    DottoFoundationV1.Faculty:
      type: object
      required:
        - id
        - name
        - email
      properties:
        id:
          type: string
        name:
          type: string
        email:
          type: string
      description: 教員
    DottoFoundationV1.FacultyRequest:
      type: object
      required:
        - name
        - email
      properties:
        name:
          type: string
        email:
          type: string
    DottoFoundationV1.Grade:
      type: string
      enum:
        - B1
        - B2
        - B3
        - B4
        - M1
        - M2
        - D1
        - D2
        - D3
      description: 学年
    DottoFoundationV1.SubjectRequirementType:
      type: string
      enum:
        - Required
        - Optional
        - OptionalRequired
      description: 必修・選択
    SubjectService.Subject:
      type: object
      required:
        - id
        - name
        - faculties
        - semester
        - credit
        - eligibleAttributes
        - requirements
      properties:
        id:
          type: string
        name:
          type: string
        faculties:
          type: array
          items:
            $ref: "#/components/schemas/SubjectService.SubjectFaculty"
        semester:
          $ref: "#/components/schemas/DottoFoundationV1.CourseSemester"
        credit:
          type: integer
          description: 単位数
        eligibleAttributes:
          type: array
          items:
            $ref: "#/components/schemas/SubjectService.SubjectTargetClass"
          description: 授業名末尾の`学年-クラス`をもとに決定
        requirements:
          type: array
          items:
            $ref: "#/components/schemas/SubjectService.SubjectRequirement"
          description: 科目群・科目区分をもとに決定
    SubjectService.SubjectFaculty:
      type: object
      required:
        - faculty
        - isPrimary
      properties:
        faculty:
          $ref: "#/components/schemas/DottoFoundationV1.Faculty"
        isPrimary:
          type: boolean
    SubjectService.SubjectRequest:
      type: object
      required:
        - syllabusId
      properties:
        syllabusId:
          type: string
    SubjectService.SubjectRequirement:
      type: object
      required:
        - course
        - requirementType
      properties:
        course:
          $ref: "#/components/schemas/DottoFoundationV1.Course"
        requirementType:
          $ref: "#/components/schemas/DottoFoundationV1.SubjectRequirementType"
    SubjectService.SubjectSummary:
      type: object
      required:
        - id
        - name
        - faculties
      properties:
        id:
          type: string
        name:
          type: string
        faculties:
          type: array
          items:
            $ref: "#/components/schemas/SubjectService.SubjectFaculty"
    SubjectService.SubjectTargetClass:
      type: object
      required:
        - grade
      properties:
        grade:
          $ref: "#/components/schemas/DottoFoundationV1.Grade"
        class:
          allOf:
            - $ref: "#/components/schemas/DottoFoundationV1.Class"
          description: 修士課程・博士課程対象の場合はnull
      description: 対象学年・クラス
servers:
  - url: http://localhost:8080
    description: Local
    variables: {}
  - url: https://admin-bff-api-dev-107577467292.asia-northeast1.run.app
    description: Development
    variables: {}
  - url: https://admin-bff-api-stg-107577467292.asia-northeast1.run.app
    description: Staging
    variables: {}
  - url: https://admin-bff-api-qa-107577467292.asia-northeast1.run.app
    description: QA
    variables: {}
  - url: https://admin-bff-api-107577467292.asia-northeast1.run.app
    description: Production
    variables: {}
